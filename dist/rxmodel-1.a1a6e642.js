parcelRequire=function(e,r,n,t){var i="function"==typeof parcelRequire&&parcelRequire,o="function"==typeof require&&require;function u(n,t){if(!r[n]){if(!e[n]){var f="function"==typeof parcelRequire&&parcelRequire;if(!t&&f)return f(n,!0);if(i)return i(n,!0);if(o&&"string"==typeof n)return o(n);var c=new Error("Cannot find module '"+n+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[n][1][r]||r},p.cache={};var l=r[n]=new u.Module(n);e[n][0].call(l.exports,p,l,l.exports,this)}return r[n].exports;function p(e){return u(p.resolve(e))}}u.isParcelRequire=!0,u.Module=function(e){this.id=e,this.bundle=u,this.exports={}},u.modules=e,u.cache=r,u.parent=i,u.register=function(r,n){e[r]=[function(e,r){r.exports=n},{}]};for(var f=0;f<n.length;f++)u(n[f]);if(n.length){var c=u(n[n.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=c:"function"==typeof define&&define.amd?define(function(){return c}):t&&(this[t]=c)}return u}({"Pibn":[function(require,module,exports) {
function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}console.log("RxJS included?",!!Rx),console.log("Ramda included?",!!R);var t=0,_=1,o=[],l=12,d=1.5,s=-49,u={C_x:[218,0],C_y:[150,0],T_w:[25.39,0],T_h:[12,0],T_d:[69.67,0],H_d:[45.67,0]},p={T_h_f:1,T_d_f:1,H_d_f:1},c={LF_x:[0,0],LF_y:[0,0],RF_x:[0,0],RF_y:[0,0],LR_x:[0,0],LR_y:[0,0],RR_x:[0,0],RR_y:[0,0],vLF_x:[0,0],vLF_y:[0,0],vRF_x:[0,0],vRF_y:[0,0],vLR_x:[0,0],vLR_y:[0,0],vRR_x:[0,0],vRR_y:[0,0],LF_w:[0,0],vLF_w:[0,0],RF_w:[0,0],vRF_w:[0,0],LR_w:[0,0],vLR_w:[0,0],RR_w:[0,0],vRR_w:[0,0],T_z:[0,0],LF_z:[0,0],vLF_z:[0,0],RF_z:[0,0],vRF_z:[0,0],LR_z:[0,0],vLR_z:[0,0],RR_z:[0,0],vRR_z:[0,0],LF_d:[0,0],RF_d:[0,0],LR_d:[0,0],RR_d:[0,0],LF_h:[0,0],RF_h:[0,0],LR_h:[0,0],RR_h:[0,0]},h=function(n){var r=new Rx.Subject;return new Proxy(n,{set:function(n,a,i){var l=n[a],d=i;if("object"===e(i)){if(n[a][1]>i[1])throw console.log("name = ",a),"stamp error";n[a][1]==i[1]||(n[a]=i,_?r.next({name:a,oldValue:l,newValue:d,target:n}):o.push({subject:r,arg:{name:a,oldValue:l,newValue:d,target:n}}))}else{if("number"!=typeof i)throw console.log("name = ",a),console.log("type = ",e(i)),"need to send object";if(1!=_)throw"bad combo, probably need to send [value,stamp]";n[a]=[i,++t],r.next({name:a,oldValue:l,newValue:d,target:n})}},get:function(e,t){return"subject"==t?r:e[t]}})},g=h(u),f=h(c);function v(e,t){return i_max=R.reduce(R.max,0,R.pluck(1,e)),o_min=R.reduce(R.min,1e6,R.pluck(1,t)),[i_max,o_min]}function L(){o=[],_=0}function w(){for(a in _=1,o)n=o[a],n.subject.next(n.arg)}if(f01={next:function(e){var t=e.name;e.oldValue,e.newValue,e.target;"C_y"==t&&(stamp=g.C_y[1],f.LF_y=[d+g.C_y[0]/2,stamp],f.RF_y=[d-g.C_y[0]/2,stamp],f.LR_y=f.LF_y,f.RR_y=f.RF_y,f.vLF_y=f.LF_y,f.vRF_y=f.RF_y,f.vLR_y=f.LR_y,f.vRR_y=f.RR_y)}},f02={next:function(e){var t=e.name;e.oldValue,e.newValue,e.target;"T_w"==t&&(f.LF_w=g.T_w,f.RF_w=g.T_w,f.LR_w=g.T_w,f.RR_w=g.T_w,f.vLF_w=f.LF_w,f.vRF_w=f.RF_w,f.vLR_w=f.LR_w,f.vRR_w=f.RR_w)}},f03={next:function(e){var t=e.name;e.oldValue,e.newValue,e.target;"C_x"==t&&(stamp=g.C_x[1],f.LF_x=[l-g.C_x[0]/2,stamp],f.RF_x=f.LF_x,f.LR_x=[l+g.C_x[0]/2,stamp],f.RR_x=f.LR_x,f.vLF_x=f.LF_x,f.vRF_x=f.RF_x,f.vLR_x=f.LR_x,f.vRR_x=f.RR_x)}},f04={next:function(e){var t=e.name;e.oldValue,e.newValue,e.target;"T_z"==t&&(f.LF_z=f.T_z,f.RF_z=f.T_z,f.LR_z=f.T_z,f.RR_z=f.T_z,f.vLF_z=f.LF_z,f.vRF_z=f.RF_z,f.vLR_z=f.LR_z,f.vRR_z=f.RR_z)}},f05={next:function(e){var t=e.name;e.oldValue,e.newValue,e.target;"T_d"==t&&(stamp=g.T_d[1],f.LF_d=g.T_d,f.RF_d=g.T_d,f.LR_d=g.T_d,f.RR_d=g.T_d,f.T_z=[.5*g.T_d[0]+s,stamp])}},f06={next:function(e){var t=e.name;e.oldValue,e.newValue,e.target;"T_h"==t&&(f.LF_h=g.T_h,f.RF_h=g.T_h,f.LR_h=g.T_h,f.RR_h=g.T_h)}},f07={next:function(e){var t=e.name;e.oldValue,e.newValue,e.target;if(R.contains(t,["T_d"])&&(inputs=[g.T_d],outputs=[g.T_h,g.H_d],stamps=v(inputs,outputs),stamps[0]>stamps[1])){L(),F=p.T_d_f,T=.5*g.T_d[0],S=g.T_h[0],H=.5*g.H_d[0],phi=F*H+(F-1)*S,S=F*T-phi,H=(1-F)*T+phi,stamp=g.T_d[1];var _=!0,n=!1,r=void 0;try{for(var a,o=inputs[Symbol.iterator]();!(_=(a=o.next()).done);_=!0){a.value[1]=stamps[0]}}catch(i){n=!0,r=i}finally{try{_||null==o.return||o.return()}finally{if(n)throw r}}g.T_h=[S,stamps[0]],g.H_d=[2*H,stamps[0]],w()}}},f08={next:function(e){var t=e.name;e.oldValue,e.newValue,e.target;R.contains(t,["T_h"])&&(inputs=[g.T_h],outputs=[g.T_d,g.H_d],stamps=v(inputs,outputs),stamps[0]>stamps[1]&&(L(),F=p.T_h_f,T=.5*g.T_d[0],S=g.T_h[0],H=.5*g.H_d[0],phi=(1-F)*H+F*T,T=(1-F)*S+phi,H=-F*S+phi,stamp=g.T_h[1],g.T_d=[2*T,stamps[0]],g.H_d=[2*H,stamps[0]],w()))}},f09={next:function(e){var t=e.name;e.oldValue,e.newValue,e.target;R.contains(t,["H_d"])&&(inputs=[g.H_d],outputs=[g.T_d,g.T_h],stamps=v(inputs,outputs),stamps[0]>stamps[1]&&(L(),F=p.H_d_f,T=.5*g.T_d[0],S=g.T_h[0],H=.5*g.H_d[0],phi=(1-F)*S+F*T,T=(1-F)*H+phi,S=-F*H+phi,stamp=g.H_d[1],g.T_d=[2*T,stamp],g.T_h=[S,stamp],w()))}},g.subject.subscribe(f01),g.subject.subscribe(f02),g.subject.subscribe(f03),f.subject.subscribe(f04),g.subject.subscribe(f05),g.subject.subscribe(f06),g.subject.subscribe(f07),g.subject.subscribe(f08),g.subject.subscribe(f09),tol=1e-6,val=u.T_d[0]-(u.H_d[0]+2*u.T_h[0]),Math.abs(val)>tol)throw"T_d,H_d,T_h contraint not met";for(key in t++,u)console.log("key = ".concat(key," value = ").concat(u[key])),g[key]=[u[key][0],t];function b(){console.log("---"),console.log("parameter C-x:",g.C_x),console.log("RF,RR-xy: (%f,%f) (%f,%f)",f.vRF_x[0],f.vRF_y[0],f.vRR_x[0],f.vRR_y[0]),console.log("LF,LR-xy: (%f,%f) (%f,%f)",f.vLF_x[0],f.vLF_y[0],f.vLR_x[0],f.vLR_y[0])}function z(){var e=g_part["tire-1"].mesh.geometry.clone();for(w0=25.39,w1=g.T_w[0]/w0,e.scale(1,1,w1),r0=g.H_d[0]/2,r1=g.T_d[0]/2,vec=e.attributes.position.array,cnt=e.attributes.position.count,radii=g_part["tire-1"].radii,i=0;i<cnt;i++)x=vec[3*i+0],y=vec[3*i+1],m=Math.sqrt(x*x+y*y),x/=m,y/=m,r=r0+radii[i]*(r1-r0),vec[3*i+0]=r*x,vec[3*i+1]=r*y;g_part.tire_lf.mesh.geometry=e.clone(),g_part.tire_rf.mesh.geometry=e.clone(),g_part.tire_lr.mesh.geometry=e.clone(),g_part.tire_rr.mesh.geometry=e.clone(),g_part.tire_lf.mesh.geometry.rotateX(THREE.Math.degToRad(90)),g_part.tire_rf.mesh.geometry.rotateX(THREE.Math.degToRad(-90)),g_part.tire_lr.mesh.geometry.rotateX(THREE.Math.degToRad(90)),g_part.tire_rr.mesh.geometry.rotateX(THREE.Math.degToRad(-90))}function E(){var e=g_part["wheel-1"].mesh.geometry.clone();w0=25.39,w1=g.T_w[0]/w0,d0=45.67,d1=g.H_d[0]/d0,e.scale(d1,d1,w1),g_part.wheel_lf.mesh.geometry=e.clone(),g_part.wheel_rf.mesh.geometry=e.clone(),g_part.wheel_lr.mesh.geometry=e.clone(),g_part.wheel_rr.mesh.geometry=e.clone(),g_part.wheel_lf.mesh.geometry.rotateX(THREE.Math.degToRad(90)),g_part.wheel_rf.mesh.geometry.rotateX(THREE.Math.degToRad(-90)),g_part.wheel_lr.mesh.geometry.rotateX(THREE.Math.degToRad(90)),g_part.wheel_rr.mesh.geometry.rotateX(THREE.Math.degToRad(-90))}function M(){g_part.tire_lf.mesh.position.x=f.vLF_x[0],g_part.tire_lf.mesh.position.y=f.vLF_y[0],g_part.tire_lf.mesh.position.z=f.vLF_z[0],g_part.tire_rf.mesh.position.x=f.vRF_x[0],g_part.tire_rf.mesh.position.y=f.vRF_y[0],g_part.tire_rf.mesh.position.z=f.vRF_z[0],g_part.tire_lr.mesh.position.x=f.vLR_x[0],g_part.tire_lr.mesh.position.y=f.vLR_y[0],g_part.tire_lr.mesh.position.z=f.vLR_z[0],g_part.tire_rr.mesh.position.x=f.vRR_x[0],g_part.tire_rr.mesh.position.y=f.vRR_y[0],g_part.tire_rr.mesh.position.z=f.vRR_z[0],g_part.wheel_lf.mesh.position.x=f.vLF_x[0],g_part.wheel_lf.mesh.position.y=f.vLF_y[0],g_part.wheel_lf.mesh.position.z=f.vLF_z[0],g_part.wheel_rf.mesh.position.x=f.vRF_x[0],g_part.wheel_rf.mesh.position.y=f.vRF_y[0],g_part.wheel_rf.mesh.position.z=f.vRF_z[0],g_part.wheel_lr.mesh.position.x=f.vLR_x[0],g_part.wheel_lr.mesh.position.y=f.vLR_y[0],g_part.wheel_lr.mesh.position.z=f.vLR_z[0],g_part.wheel_rr.mesh.position.x=f.vRR_x[0],g_part.wheel_rr.mesh.position.y=f.vRR_y[0],g_part.wheel_rr.mesh.position.z=f.vRR_z[0]}function C(e){var t=document.getElementById("param_"+e.dv),_=document.createElement("label");_.innerHTML=e.description;var n=document.createElement("br"),r=document.createElement("input");r.type="range",r.id=e.dv+"_slider",r.min=e.min,r.max=e.max,r.step=e.step,r.value=e.value,r.oninput=e.oninput();var a=document.createElement("em");a.id=e.dv+"_label",a.style="font-style: normal",a.innerHTML=e.value,t.appendChild(_),t.appendChild(n),t.appendChild(r),t.appendChild(a)}b(),C({dv:"C_x",description:"Tire contact point length",value:g.C_x[0],min:150,max:300,step:10,oninput:function(){return function(){g.C_x=parseFloat(this.value),document.getElementById("C_x_label").innerHTML=g.C_x[0],M(),g_renderer.render(g_scene,g_camera)}}}),C({dv:"C_y",description:"Tire contact point width",value:g.C_y[0],min:100,max:250,step:10,oninput:function(){return function(){g.C_y=parseFloat(this.value),document.getElementById("C_y_label").innerHTML=g.C_y[0],M(),g_renderer.render(g_scene,g_camera)}}}),C({dv:"T_w",description:"Tire width",value:g.T_w[0],min:10,max:50,step:2,oninput:function(){return function(){g.T_w=parseFloat(this.value),document.getElementById("T_w_label").innerHTML=g.T_w[0],z(),E(),M(),g_renderer.render(g_scene,g_camera)}}}),C({dv:"T_d",description:"Tire diameter",value:g.T_d[0],min:40,max:100,step:5,oninput:function(){return function(){g.T_d=parseFloat(this.value),document.getElementById("T_d_label").innerHTML=g.T_d[0],document.getElementById("T_h_label").innerHTML=g.T_h[0],document.getElementById("H_d_label").innerHTML=g.H_d[0],document.getElementById("T_h_slider").value=g.T_h[0],document.getElementById("H_d_slider").value=g.H_d[0],z(),E(),M(),g_renderer.render(g_scene,g_camera)}}}),C({dv:"T_d_f",description:"Tire diameter blend factor",value:p.T_d_f,min:0,max:1,step:.1,oninput:function(){return function(){p.T_d_f=parseFloat(this.value),document.getElementById("T_d_f_label").innerHTML=p.T_d_f}}}),C({dv:"H_d",description:"Hub diameter",value:g.H_d[0],min:10,max:70,step:5,oninput:function(){return function(){g.H_d=parseFloat(this.value),document.getElementById("H_d_label").innerHTML=g.H_d[0],document.getElementById("T_h_label").innerHTML=g.T_h[0],document.getElementById("T_d_label").innerHTML=g.T_d[0],document.getElementById("T_h_slider").value=g.T_h[0],document.getElementById("T_d_slider").value=g.T_d[0],z(),E(),M(),g_renderer.render(g_scene,g_camera)}}}),C({dv:"H_d_f",description:"Hub diameter blend factor",value:p.H_d_f,min:0,max:1,step:.1,oninput:function(){return function(){p.H_d_f=parseFloat(this.value),document.getElementById("H_d_f_label").innerHTML=p.H_d_f}}}),C({dv:"T_h",description:"Tire sidewall height",value:g.T_h[0],min:3,max:20,step:2,oninput:function(){return function(){g.T_h=parseFloat(this.value),document.getElementById("T_h_label").innerHTML=g.T_h[0],document.getElementById("H_d_label").innerHTML=g.H_d[0],document.getElementById("T_d_label").innerHTML=g.T_d[0],document.getElementById("H_d_slider").value=g.H_d[0],document.getElementById("T_d_slider").value=g.T_d[0],z(),E(),M(),g_renderer.render(g_scene,g_camera)}}}),C({dv:"T_h_f",description:"Tire sidewall height blend factor",value:p.T_h_f,min:0,max:1,step:.1,oninput:function(){return function(){p.T_h_f=parseFloat(this.value),document.getElementById("T_h_f_label").innerHTML=p.T_h_f}}});
},{}]},{},["Pibn"], null)
//# sourceMappingURL=/rxmodel-1.a1a6e642.map